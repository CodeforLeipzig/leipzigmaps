{"version":3,"sources":["components/ColorScale.js","components/MapPolygon.js","components/DataOverlay.js","hooks/useInterval.js","components/DataOverlayOptions.js","components/MapMarkers.js","components/SwitchLine.js","components/MarkerToggles.js","components/Markers.js","components/CreditsModal.js","components/OffcanvasFooter.js","components/OwnLocationMarker.js","components/Map.js","App.js","reportWebVitals.js","index.js"],"names":["ColorScale","min","max","databasisColorScale","scale","domain","_100","i","push","style","overflow","fontFamily","map","display","backgroundColor","hex","width","height","float","defaultPathOptions","stroke","fillOpacity","Polygon","geoframe","pathOptions","tooltip","useState","isHighlighted","setIsHighlighted","positions","geometry","coordinates","eventHandlers","mouseover","mouseout","direction","sticky","DataOverlay","cache","dataOverlayEntries","selectedDataKey","selectedX","selectedY","showTotal","isPercent","indexOf","aggFun","values","length","Math","round","reduce","sum","elem","value","databasis","selectedYValues","Object","keys","key","d","flat","databasisMax","databasisMin","totalValue","districts","features","filter","district","properties","title","f","item","find","MapPolygon","fontSize","unit","replace","fillColor","useInterval","callback","delay","intervalRef","useRef","callbackRef","useEffect","current","window","setInterval","clearInterval","DataOverlayOptions","dataEntries","setSelectedX","setSelectedY","setShowTotal","selectDataOverlayCategory","loadings","selectedData","xKeys","yKeys","playingYears","setPlayingYears","index","indexNext","console","log","goToNextYear","Form","Check","type","id","label","checked","onChange","e","curr","marginLeft","paddingBottom","paddingLeft","paddingRight","paddingTop","Accordion","defaultActiveKey","Item","eventKey","Header","opacity","Body","textTransform","Spinner","animation","size","sort","y","Button","marginBottom","onClick","icon","faPauseCircle","faPlayCircle","reverse","x","MapMarkers","data","renderTooltip","renderIcon","renderLink","myIcon","L","divIcon","iconSize","html","renderToString","popup","Popup","href","Marker","position","lat","lon","click","isMobile","open","SwitchLine","loading","spinner","isActive","setIsActive","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","flexDirection","justifyContent","padding","marginRight","disabled","colors","MarkerToggles","showMarker","toggleMarkers","setShowMarker","navigator","own_location","color","faLocationArrow","bus_stops","faBus","train_stops","faSubway","tram_stops","faTrain","swimming_pools","faSwimmingPool","fitness_studios","faDumbbell","daycares","faBaby","playgrounds","faChild","bike_lanes","faBicycle","parks","faTree","supermarkets","faShoppingBasket","markets","faHome","Markers","elements","tags","name","network","faSwimmer","link","operator","address","full","opening_hours","location","organic","p","CreditsModal","props","Modal","centered","closeButton","Title","OffcanvasFooter","showCreditsModal","setShowCreditsModal","textDecoration","variant","show","onHide","OwnLocationMarker","className","faCircle","border","borderRadius","boxShadow","zIndex","top","left","usePosition","enableHighAccuracy","latitude","longitude","error","right","chroma","center","Hooks","useMapEvent","latlng","Map","setCache","showOffcanvas","setShowOffcanvas","setLoadings","data_overlay","setSelectedDataKey","fetch","process","then","response","json","res","databasisMaxYears","forEach","includes","dataOverlayScale","MapContainer","zoom","tap","TileLayer","attribution","url","bottom","alignItems","faCog","background","cursor","OverlayTrigger","placement","overlay","Tooltip","join","Offcanvas","backdrop","textAlign","faChartPie","marginTop","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7bce8ce6.chunk.js","sourcesContent":["const ColorScale = ({\r\n  min,\r\n  max,\r\n  scale,\r\n}) => {\r\n  const databasisColorScale = scale.domain([0, 100]);\r\n\r\n  const _100 = [];\r\n  for (let i = 0; i < 100; i++) _100.push(i)\r\n\r\n  return (\r\n    <div style={{ overflow: 'auto', fontFamily: 'monospace' }}>\r\n      {_100.map(i =>\r\n        <span key={i} style={{\r\n          display: 'inline-block',\r\n          backgroundColor: databasisColorScale(i).hex(),\r\n          width: '1%', height: 10\r\n        }}>\r\n      </span>)}\r\n      <div style={{ float: 'left' }}>{min}</div>\r\n      <div style={{ float: 'right' }}>{max}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ColorScale;\r\n","import { useState } from 'react';\r\nimport { Polygon as P, Tooltip } from 'react-leaflet'\r\n\r\nconst defaultPathOptions = {\r\n  stroke: false,\r\n  fillOpacity: 0.6,\r\n}\r\n\r\nconst Polygon = ({ geoframe, pathOptions, tooltip }) => {\r\n  const [isHighlighted, setIsHighlighted] = useState(false);\r\n\r\n  return (\r\n    <P\r\n      pathOptions={{\r\n        ...defaultPathOptions,\r\n        ...pathOptions,\r\n        fillOpacity: isHighlighted ? 0.6 : defaultPathOptions.fillOpacity\r\n      }}\r\n      positions={geoframe.geometry.coordinates[0]}\r\n      eventHandlers={{\r\n        mouseover: () => setIsHighlighted(true),\r\n        mouseout: () => setIsHighlighted(false)\r\n      }}\r\n    >\r\n      <Tooltip direction=\"top\" sticky>\r\n        {tooltip}\r\n      </Tooltip>\r\n    </P>\r\n  )\r\n}\r\n\r\nexport default Polygon;\r\n","import MapPolygon from './MapPolygon'\r\n\r\nconst DataOverlay = ({\r\n  cache,\r\n  dataOverlayEntries,\r\n  selectedDataKey,\r\n  selectedX,\r\n  selectedY,\r\n  showTotal,\r\n  scale,\r\n}) => {\r\n  if(\r\n    !cache[selectedDataKey] ||\r\n    !cache[selectedDataKey][selectedX] ||\r\n    !cache[selectedDataKey][selectedX][selectedY]\r\n  ) return null;\r\n\r\n  const isPercent = selectedY && (selectedY.indexOf(\"Anteil\") >=0 || selectedY.indexOf(\"anteil\") >=0 || selectedY.indexOf(\"Quote\") >= 0 || selectedY.indexOf(\"quote\") >= 0)\r\n  const aggFun = (values) => showTotal ? ((isPercent && values.length > 0) ? (Math.round(values.reduce((sum, elem) => sum + elem.value, 0) / values.length)) : values.reduce((sum, elem) => sum + elem.value, 0)) : 0\r\n  const databasis = cache[selectedDataKey][selectedX][selectedY];\r\n  const selectedYValues = Object.keys(cache[selectedDataKey]).map(key =>\r\n    cache[selectedDataKey][key][selectedY] ?\r\n      (\r\n        showTotal ?\r\n          aggFun(cache[selectedDataKey][key][selectedY])\r\n          : cache[selectedDataKey][key][selectedY].map(d => d.value)\r\n      ) : 0\r\n  ).flat(1)\r\n  const databasisMax = Math.max(...selectedYValues)\r\n  const databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\r\n  const databasisColorScale = scale.domain([databasisMin, databasisMax]);\r\n  const totalValue = aggFun(databasis)\r\n\r\n  return (\r\n    <>\r\n      {cache.districts.features.filter((district) => showTotal ? district.properties.title === \"Gesamt\" : district.properties.title !== \"Gesamt\").map(f => {\r\n          let item = showTotal ? null : databasis.find(d => d.district === f.properties.title)\r\n          const district = showTotal ? \"Gesamt\" : item.district\r\n          const value = showTotal ? totalValue : item.value\r\n          return (\r\n            <MapPolygon\r\n              key={f.properties.key}\r\n              geoframe={f}\r\n              tooltip={\r\n                <div style={{ fontSize: '1rem' }}>\r\n                  <div style={{ fontSize: '1.4rem' }}>{value}{isPercent ? \"%\" : \"\"} {dataOverlayEntries[selectedDataKey].unit}</div>\r\n                  {district}<br />\r\n                  <div style={{ fontSize: '0.8rem' }}>{dataOverlayEntries[selectedDataKey].title}</div>\r\n                  {\r\n                    dataOverlayEntries[selectedDataKey].title !== selectedY.replace(' insgesamt', '') &&\r\n                    <div style={{ fontSize: '0.8rem' }}>{selectedY}</div>\r\n                  }\r\n                </div>\r\n              }\r\n              pathOptions={{\r\n                fillColor: databasisColorScale(value).hex()\r\n              }}\r\n            />\r\n          )\r\n      })}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DataOverlay;","import { useEffect, useRef } from 'react';\r\n\r\nfunction useInterval(callback, delay) {\r\n  const intervalRef = useRef();\r\n  const callbackRef = useRef(callback);\r\n\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    if (typeof delay === 'number') {\r\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\r\n      return () => window.clearInterval(intervalRef.current);\r\n    }\r\n  }, [delay]);\r\n\r\n  return intervalRef;\r\n}\r\n\r\nexport default useInterval;\r\n","import { useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlayCircle, faPauseCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nimport useInterval from '../hooks/useInterval'\r\n\r\nconst DataOverlayOptions = ({\r\n  dataEntries,\r\n  cache,\r\n  selectedDataKey,\r\n  selectedX,\r\n  selectedY,\r\n  showTotal,\r\n  setSelectedX,\r\n  setSelectedY,\r\n  setShowTotal,\r\n  selectDataOverlayCategory,\r\n  loadings,\r\n}) => {\r\n\r\n  const selectedData = cache[selectedDataKey];\r\n  const xKeys = selectedData ? Object.keys(selectedData) : []\r\n  const yKeys = selectedData ? Object.keys(selectedData[xKeys[0]]) : []\r\n\r\n  const [playingYears, setPlayingYears] = useState(false);\r\n\r\n  const goToNextYear = () => {\r\n    if(!selectedData) return;\r\n\r\n    const index = xKeys.indexOf(selectedX);\r\n    const indexNext = index + 1 > Object.keys(selectedData).length - 1 ? 0 : index + 1;\r\n    console.log(index, indexNext)\r\n    setSelectedX(xKeys[indexNext])\r\n  }\r\n\r\n  useInterval(() => goToNextYear(), playingYears ? 500 : null);\r\n\r\n  return (\r\n    <>\r\n      <Form.Check\r\n        key={\"Total\"}\r\n        type=\"checkbox\"\r\n        id={\"Total\"}\r\n        label={\"Zeige Daten für Gesamtgebiet\"}\r\n        checked={showTotal}\r\n        onChange={e => setShowTotal((curr) => !curr)}\r\n        style={{ marginLeft: 20 }}\r\n      />\r\n      <div style={{ paddingBottom: 20, paddingLeft: 20, paddingRight: 20, paddingTop: 5, }}>\r\n        <p><strong>Details für Ortsteile</strong> zeigen mit farblichen Flächen bspw. an, wie viele Arbeitslose im Jahr 2016 in jeweiligem Ortsteil gelebt haben. \r\n        Wähle eine <strong>Kategorie</strong>, <strong>Unterkategorie</strong> und <strong>Jahr</strong>.</p>\r\n        <Accordion defaultActiveKey=\"0\">\r\n          <Accordion.Item eventKey=\"0\">\r\n            <Accordion.Header>Kategorie&nbsp;<span style={{ opacity: 0.5 }}>{dataEntries[selectedDataKey].title} ({Object.keys(dataEntries).length})</span></Accordion.Header>\r\n            <Accordion.Body>\r\n            {Object.keys(dataEntries).map((key) =>\r\n                <Form.Check\r\n                  key={key}\r\n                  type=\"radio\"\r\n                  id={key}\r\n                  label={\r\n                      <span style={{ textTransform: 'capitalize' }}>\r\n                        {dataEntries[key].title}&nbsp;\r\n                        {loadings[key] && <Spinner animation=\"border\" size=\"sm\" />}\r\n                      </span>\r\n                  }\r\n                  checked={selectedDataKey === key}\r\n                  onChange={e => selectDataOverlayCategory(key)}\r\n                />\r\n            )}\r\n            </Accordion.Body>\r\n          </Accordion.Item>\r\n          {yKeys.length > 1 && <Accordion.Item eventKey=\"1\">\r\n            <Accordion.Header>Unterkategorie:&nbsp;<span style={{ opacity: 0.5 }}>{selectedY} ({yKeys.length})</span></Accordion.Header>\r\n            <Accordion.Body>\r\n            {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\r\n            {!!selectedData && selectedData[selectedX] && Object.keys(selectedData[selectedX]).sort().map(y => \r\n              <Form.Check\r\n                key={y}\r\n                type=\"radio\"\r\n                id={y}\r\n                label={y}\r\n                checked={selectedY === y}\r\n                onChange={e => setSelectedY(y)}\r\n              />\r\n            )}\r\n            </Accordion.Body>\r\n          </Accordion.Item>}\r\n          <Accordion.Item eventKey=\"2\">\r\n            <Accordion.Header>Jahr:&nbsp;<span style={{ opacity: 0.5 }}>{selectedX} ({xKeys.length})</span></Accordion.Header>\r\n            <Accordion.Body>\r\n            <Button style={{ marginBottom: 10, float: 'right' }} size=\"sm\" onClick={() => setPlayingYears(playingYears => !playingYears)}>\r\n              {playingYears ? <><FontAwesomeIcon icon={faPauseCircle} /> Pause</> : <><FontAwesomeIcon icon={faPlayCircle} /> Abspielen</>}\r\n            </Button>\r\n            {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\r\n            {!!selectedData && Object.keys(selectedData).reverse().map(x =>\r\n              <Form.Check\r\n                key={x}\r\n                type=\"radio\"\r\n                id={x}\r\n                label={x}\r\n                checked={selectedX === x}\r\n                onChange={e => setSelectedX(x)}\r\n              />\r\n            )}\r\n            </Accordion.Body>\r\n          </Accordion.Item>\r\n        </Accordion>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DataOverlayOptions;","import { isMobile } from \"react-device-detect\";\r\nimport { renderToString } from 'react-dom/server'\r\n\r\nimport L from 'leaflet'\r\nimport { Tooltip, Marker, Popup } from 'react-leaflet'\r\n\r\nconst MapMarkers = ({ data, renderTooltip, renderIcon, renderLink = null }) => {\r\n  return data.map((item, index) => {\r\n\r\n    var myIcon = L.divIcon({\r\n      iconSize: [20, 20],\r\n      html: renderToString(renderIcon(item))\r\n    });\r\n\r\n    const popup = (\r\n      <Popup>\r\n        <div style={{ fontSize: '1rem' }}>\r\n          {renderTooltip(item)}\r\n          (<a href={renderLink(item)}>Mehr Details</a>)\r\n        </div>\r\n      </Popup>\r\n    )\r\n\r\n    const tooltip = (\r\n      <Tooltip sticky>\r\n        <div style={{ fontSize: '1rem' }}>\r\n          {renderTooltip(item)}<br />\r\n        </div>\r\n      </Tooltip>\r\n    )\r\n\r\n    return (\r\n      <Marker\r\n        key={index}\r\n        position={[item.lat, item.lon]}\r\n        icon={myIcon}\r\n        eventHandlers={{\r\n          click: () => renderLink !== null && !isMobile ? window.open(renderLink(item)) : {}\r\n        }}\r\n      >\r\n        {isMobile && popup}\r\n        {!isMobile && tooltip}\r\n      </Marker>\r\n    )\r\n  })\r\n}\r\n\r\nexport default MapMarkers;","import Switch from \"rc-switch\";\r\nimport { useState } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst SwitchLine = ({\r\n  checked,\r\n  onChange,\r\n  loading,\r\n  icon,\r\n  label\r\n}) => {\r\n  const spinner = <Spinner animation=\"border\" size=\"sm\" />;\r\n  const [isActive, setIsActive] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      onMouseEnter={() => setIsActive(true)}\r\n      onMouseLeave={() => setIsActive(false)}\r\n      onTouchStart={() => setIsActive(true)}\r\n      onTouchEnd={() => setIsActive(false)}\r\n      onTouchCancel={() => setIsActive(false)}\r\n      onClick={() => onChange()}\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        fontSize: '1.1rem',\r\n        padding: '10px 20px',\r\n        backgroundColor: isActive ? '#eee' : '#fff'\r\n      }}\r\n    >\r\n      <div>\r\n        <span style={{ marginRight: 7 }}>{loading ? spinner : icon}</span>\r\n        <span>{label}</span>\r\n      </div>\r\n      <div>\r\n        <Switch\r\n          disabled={loading === true}\r\n          checked={checked}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SwitchLine;\r\n","import { faBaby, faBicycle, faBus, faChild, faDumbbell, faHome, faLocationArrow, faShoppingBasket, faSubway, faSwimmingPool, faTrain, faTree } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport 'rc-switch/assets/index.css';\r\nimport SwitchLine from './SwitchLine';\r\n\r\nexport const colors = {\r\n  bus_stops: '#1a73e8',\r\n  train_stops: '#1a73e8',\r\n  tram_stops: '#1a73e8',\r\n  own_location: '#1a73e8',\r\n  swimming_pools: '#7986cb',\r\n  fitness_studios: '#78909c',\r\n  daycares: '#f06292',\r\n  playgrounds: '#f06292',\r\n  bike_lanes: '#5565dd',\r\n  parks: '#34a853',\r\n  supermarkets: '#f29900',\r\n  markets: '#f29900',\r\n}\r\n\r\nconst MarkerToggles = ({\r\n  showMarker,\r\n  toggleMarkers,\r\n  setShowMarker,\r\n  loadings,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {\r\n        \"geolocation\" in navigator &&\r\n        <SwitchLine\r\n          loading={loadings.own_location}\r\n          checked={showMarker.own_location}\r\n          onChange={e => setShowMarker({ ...showMarker, own_location: !showMarker.own_location })}\r\n          icon={<FontAwesomeIcon color={colors.own_location} icon={faLocationArrow} />}\r\n          label=\"Eigenen Standort anzeigen\"\r\n        />\r\n      }\r\n      <SwitchLine\r\n        loading={loadings.bus_stops}\r\n        checked={showMarker.bus_stops}\r\n        onChange={e => toggleMarkers('bus_stops')}\r\n        icon={<FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\r\n        label=\"Bushaltestellen anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.train_stops}\r\n        checked={showMarker.train_stops}\r\n        onChange={e => toggleMarkers('train_stops')}\r\n        icon={<FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\r\n        label=\"Zugbahnhöfe anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.tram_stops}\r\n        checked={showMarker.tram_stops}\r\n        onChange={e => toggleMarkers('tram_stops')}\r\n        icon={<FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\r\n        label=\"Tramstops anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.swimming_pools}\r\n        checked={showMarker.swimming_pools}\r\n        onChange={e => toggleMarkers('swimming_pools')}\r\n        icon={<FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} />}\r\n        label=\"Swimming Pools anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.fitness_studios}\r\n        checked={showMarker.fitness_studios}\r\n        onChange={e => toggleMarkers('fitness_studios')}\r\n        icon={<FontAwesomeIcon color={colors.fitness_studios} icon={faDumbbell} />}\r\n        label=\"Fitness Studios anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.daycares}\r\n        checked={showMarker.daycares}\r\n        onChange={e => toggleMarkers('daycares')}\r\n        icon={<FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\r\n        label=\"Kitas anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.playgrounds}\r\n        checked={showMarker.playgrounds}\r\n        onChange={e => toggleMarkers('playgrounds')}\r\n        icon={<FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\r\n        label=\"Spielplätze anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.bike_lanes}\r\n        checked={showMarker.bike_lanes}\r\n        onChange={e => setShowMarker({ ...showMarker, bike_lanes: !showMarker.bike_lanes })}\r\n        icon={<FontAwesomeIcon color={colors.bike_lanes} icon={faBicycle} />}\r\n        label=\"Radwege anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.parks}\r\n        checked={showMarker.parks}\r\n        onChange={e => toggleMarkers('parks')}\r\n        icon={<FontAwesomeIcon color={colors.parks} icon={faTree} />}\r\n        label=\"Parks anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.supermarkets}\r\n        checked={showMarker.supermarkets}\r\n        onChange={e => toggleMarkers('supermarkets')}\r\n        icon={<FontAwesomeIcon color={colors.supermarkets} icon={faShoppingBasket} />}\r\n        label=\"Supermärkte anzeigen\"\r\n      />\r\n      <SwitchLine\r\n        loading={loadings.markets}\r\n        checked={showMarker.markets}\r\n        onChange={e => toggleMarkers('markets')}\r\n        icon={<FontAwesomeIcon color={colors.markets} icon={faHome} />}\r\n        label=\"Wochenmärkte anzeigen\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MarkerToggles;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus, faSwimmingPool, faSwimmer, faChild, faBaby, faHome, faSubway, faTrain, faDumbbell, faShoppingBasket, faTree } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport MapMarkers from './MapMarkers'\r\n\r\nimport { colors } from './MarkerToggles'\r\n\r\nconst Markers = ({ showMarker, cache }) => <>\r\n  {showMarker.bus_stops && \r\n    <MapMarkers\r\n      data={cache.bus_stops.elements}\r\n      renderTooltip={item =>\r\n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\r\n      }\r\n      renderIcon={item => <FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\r\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\r\n    />\r\n  }\r\n\r\n  {showMarker.swimming_pools && \r\n    <MapMarkers\r\n      data={cache.swimming_pools}\r\n      renderTooltip={item => <div>{item.title}<br />(click for details)</div>}\r\n      renderIcon={item => \r\n          item.type === 'indoor_pool' ? \r\n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} /> : \r\n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmer} />\r\n      }\r\n      renderLink={item => item.link}\r\n    />\r\n  }\r\n  {showMarker.tram_stops && \r\n    <MapMarkers\r\n      data={cache.tram_stops.elements}\r\n      renderTooltip={item => \r\n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\r\n      }\r\n      renderIcon={item => <FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\r\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\r\n    />\r\n  }\r\n  {showMarker.train_stops && \r\n    <MapMarkers\r\n      data={cache.train_stops.elements}\r\n      renderTooltip={item => {\r\n        return (\r\n          <div>\r\n            {item.tags.name}<br />\r\n            {item.tags.operator}<br />\r\n            (click for details)\r\n          </div>\r\n        )\r\n      }}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\r\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\r\n    />\r\n  }\r\n  {showMarker.fitness_studios && \r\n    <MapMarkers\r\n      data={cache.fitness_studios.elements}\r\n      renderTooltip={item => <div>{item.tags.name}<br />(click for details)</div>}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.fitness_studios} icon={faDumbbell} />}\r\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\r\n    />\r\n  }\r\n  {showMarker.daycares && \r\n    <MapMarkers\r\n      data={cache.daycares}\r\n      renderTooltip={item => <div>{item.name}<br />{item.address ? item.address.full : null}</div>}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\r\n      renderLink={item => item.address ? `https://www.openstreetmap.org/search?query=${item.address.full}` : '#'}\r\n    />\r\n  }\r\n  {showMarker.markets && \r\n    <MapMarkers\r\n      data={cache.markets}\r\n      renderTooltip={item => <div>{item.title}<br />{item.opening_hours}<br />{item.location}</div>}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.markets} icon={faHome} />}\r\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.location}`}\r\n    />\r\n  }\r\n  {showMarker.playgrounds && \r\n    <MapMarkers\r\n      data={cache.playgrounds}\r\n      renderTooltip={item => <div>{item.name}<br />{item.location}</div>}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\r\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\r\n    />\r\n  }\r\n  {showMarker.supermarkets && \r\n    <MapMarkers\r\n      data={cache.supermarkets.elements}\r\n      renderTooltip={item => <div>{item.tags.name}<br />{item.tags.organic ? `organic: ${item.tags.organic}`: ''}</div>}\r\n      renderIcon={item => <FontAwesomeIcon color={item.tags.organic ? 'green' : colors.supermarkets} icon={faShoppingBasket} />}\r\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\r\n    />\r\n  }\r\n  {showMarker.parks && \r\n    <MapMarkers\r\n      data={cache.parks.filter(p => p.tags?.name)}\r\n      renderTooltip={item => item.tags.name}\r\n      renderIcon={item => <FontAwesomeIcon color={colors.parks} icon={faTree} />}\r\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\r\n    />\r\n  }\r\n</>\r\n\r\nexport default Markers;\r\n","import Modal from 'react-bootstrap/Modal';\r\n\r\nconst CreditsModal = (props) => {\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Copyright &amp; Daten\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <ul>\r\n          <li><a href=\"https://www.openstreetmap.org/copyright/en\">© OpenStreetMap contributors</a><br /></li>\r\n          <li><a href=\"https://www.maptiler.com/copyright/\">&copy; MapTiler</a></li>\r\n          <li><a href=\"https://www.cyclosm.org\">&copy; cyclosm</a></li>\r\n          <li><a href=\"https://github.com/mrzmyr/leipzig-maps\">GitHub Source Code</a><br /></li>\r\n        </ul>\r\n        <p>Ein Teil der Beschriftungen kommen aus anderen Quellen und sind daher nicht gegendert.</p>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default CreditsModal;","import { useState } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport CreditsModal from \"./CreditsModal\";\r\n\r\nconst OffcanvasFooter = () => {\r\n  const [showCreditsModal, setShowCreditsModal] = useState(false);\r\n\r\n  return (\r\n    <div style={{ fontSize: 12 }}>\r\n    <Button\r\n      style={{ textDecoration: 'none' }}\r\n      variant=\"link\"\r\n      size=\"sm\"\r\n      onClick={() => setShowCreditsModal(true)}\r\n    >Copyright &amp; Daten</Button>\r\n    <br />\r\n    <Button\r\n      style={{ textDecoration: 'none' }}\r\n      variant=\"link\"\r\n      size=\"sm\"\r\n      onClick={() => window.open('https://twitter.com/mrzmyr')}\r\n    >🧑🏻‍💻 mrzmyr</Button>\r\n    <br />\r\n    <CreditsModal\r\n      show={showCreditsModal}\r\n      onHide={() => setShowCreditsModal(false)}\r\n    />\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default OffcanvasFooter;\r\n","import { renderToString } from 'react-dom/server'\r\n\r\nimport './OwnLocationMarker.css'\r\n\r\nimport L from 'leaflet'\r\nimport { Marker } from 'react-leaflet';\r\nimport { usePosition } from 'use-position';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { colors } from './MarkerToggles';\r\n\r\nconst OwnLocationMarker = () => {\r\n  var myIcon = L.divIcon({\r\n    className: 'ownLocationMarker',\r\n    iconSize: [20, 20],\r\n    html: renderToString(\r\n      <div>\r\n        <FontAwesomeIcon\r\n          icon={faCircle}\r\n          size='lg'\r\n          style={{\r\n            animation: 'pulseDot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) -.4s infinite',\r\n            color: colors.own_location,\r\n            border: '2px solid #FFF',\r\n            borderRadius: '50%',\r\n            boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px',\r\n            position: 'relative',\r\n            zIndex: 20,\r\n          }}\r\n        />\r\n        <FontAwesomeIcon\r\n          icon={faCircle}\r\n          size='3x'\r\n          style={{\r\n            animation: 'pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite',\r\n            color: colors.own_location,\r\n            position: 'absolute',\r\n            top: -9,\r\n            left: -8,\r\n            zIndex: 10,\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  });\r\n\r\n  const watch = true;\r\n  const {\r\n    latitude,\r\n    longitude,\r\n    error,\r\n  } = usePosition(watch, {enableHighAccuracy: true});\r\n\r\n  console.log(error)\r\n\r\n  if(error) return <div style={{ color: '#fff', padding: 5, backgroundColor: 'red', position: 'absolute', top: 0, right: 0, zIndex: 9999 }}>{error}</div>\r\n\r\n  return (\r\n    <Marker\r\n      position={[latitude || 0, longitude || 0]}\r\n      icon={myIcon}\r\n    >\r\n    </Marker>\r\n  )\r\n}\r\n\r\nexport default OwnLocationMarker;\r\n","import { faChartPie, faCog } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport chroma from 'chroma-js';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Offcanvas from 'react-bootstrap/Offcanvas';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { MapContainer, TileLayer, useMapEvent } from 'react-leaflet';\r\nimport ColorScale from './ColorScale';\r\nimport DataOverlay from './DataOverlay';\r\nimport DataOverlayOptions from './DataOverlayOptions';\r\nimport Markers from './Markers';\r\nimport MarkerToggles from './MarkerToggles';\r\nimport OffcanvasFooter from './OffcanvasFooter';\r\nimport OwnLocationMarker from './OwnLocationMarker';\r\nimport SwitchLine from \"./SwitchLine\";\r\n\r\nconst dataOverlayEntries = {\r\n  'aerzte': {\r\n    title: 'Ärzte',\r\n    scale: chroma.scale('PuRd'),\r\n    unit: 'Ärzte',\r\n  },\r\n  'arbeitslose-insgesamt': {\r\n    title: 'Arbeitslose',\r\n    scale: chroma.scale('OrRd'),\r\n    unit: 'Arbeitslose',\r\n  },\r\n  'bedarfsgemeinschaften': {\r\n    title: 'Bedarfsgemeinschaften',\r\n    scale: chroma.scale('YlGnBu'),\r\n    unit: '',\r\n  },\r\n  'einwohner-insgesamt': {\r\n    title: 'Population',\r\n    scale: chroma.scale('BuPu'),\r\n    unit: 'Menschen',\r\n  },\r\n  'einwohnerdichte': {\r\n    title: 'Bevölkerungsdichte',\r\n    scale: chroma.scale('BuPu'),\r\n    unit: 'Menschen',\r\n  },\r\n  'gesamtflaeche': {\r\n    title: 'Gesamtfläche',\r\n    scale: chroma.scale('Greys'),\r\n    unit: 'km²'\r\n  },\r\n  'haushaltseinkommen': {\r\n    title: 'Einkommen',\r\n    scale: chroma.scale('PuBu'),\r\n    min: 1000,\r\n    unit: '€'\r\n  },\r\n  'jugendquote': {\r\n    title: 'Alter',\r\n    scale: chroma.scale('YlOrBr'),\r\n    unit: '',\r\n  },\r\n  'kraftfahrzeuge-insgesamt': {\r\n    title: 'Kraftfahrzeuge',\r\n    scale: chroma.scale('Purples'),\r\n    unit: 'Fahrzeuge'\r\n  },\r\n  'migranten': {\r\n    title: 'Zugewanderte',\r\n    scale: chroma.scale('GnBu'),\r\n    unit: 'Zugewanderte',\r\n  },\r\n  'straftaten-insgesamt': {\r\n    title: 'Straftaten',\r\n    scale: chroma.scale('YlOrRd'),\r\n    unit: 'Straftaten',\r\n  },\r\n  'unternehmen-insgesamt': {\r\n    title: 'Unternehmen',\r\n    scale: chroma.scale('Blues'),\r\n    unit: 'Unternehmen',\r\n  },\r\n  'wohnungen': {\r\n    title: 'Wohnungen',\r\n    scale: chroma.scale('RdPu')\r\n  },\r\n}\r\n\r\nconst center = [51.340199, 12.430103];\r\n\r\nfunction Hooks() {\r\n  useMapEvent('click', (e) => {\r\n    console.log(e.latlng)\r\n  })\r\n  return null\r\n}\r\n\r\nconst Map = () => {\r\n\r\n  const [cache, setCache] = useState({})\r\n\r\n  const [showOffcanvas, setShowOffcanvas] = useState(true);\r\n\r\n  const [loadings, setLoadings] = useState({\r\n    districts: true\r\n  });\r\n\r\n  const [showMarker, setShowMarker] = useState({\r\n    bike_lanes: false,\r\n    bus_stops: false,\r\n    train_stops: false,\r\n    tram_stops: false,\r\n    swimming_pools: false,\r\n    playgrounds: false,\r\n    daycares: false,\r\n    data_overlay: false,\r\n    markets: false,\r\n  });\r\n\r\n  const [selectedDataKey, setSelectedDataKey] = useState(null);\r\n  const [selectedX, setSelectedX] = useState(null);\r\n  const [selectedY, setSelectedY] = useState(null);\r\n  const [showTotal, setShowTotal] = useState(false);\r\n\r\n  const toggleDataOverlay = () => {\r\n    setShowMarker({ ...showMarker, data_overlay: !showMarker.data_overlay })\r\n  }\r\n\r\n  const selectDataOverlayCategory = (key) => {\r\n    setSelectedDataKey(key)\r\n\r\n    if(!cache[key]) {\r\n      setLoadings({ ...loadings, [key]: true })\r\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key}.json`)\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          setLoadings(loadings => ({ ...loadings, [key]: false }))\r\n          setCache(cache => ({ ...cache, [key]: response.data }))\r\n          setShowMarker(showMarker => ({ ...showMarker, [key]: !showMarker[key] }))\r\n        });\r\n    } else {\r\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\r\n    }\r\n  }\r\n\r\n  const toggleMarkers = (key) => {\r\n    if(!cache[key]) {\r\n      setLoadings({ ...loadings, [key]: true })\r\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key.replace('_', '-')}.json`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          setCache({ ...cache, [key]: data })\r\n          setShowMarker({ ...showMarker, [key]: !showMarker[key] })\r\n          setLoadings({ ...loadings, [key]: false })\r\n        });\r\n    } else {\r\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.PUBLIC_URL}/data/leipzig-districts.json`)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      setCache(cache => ({ ...cache, districts: data }))\r\n      setLoadings(loadings => ({ ...loadings, districts: false }))\r\n    })\r\n    selectDataOverlayCategory(Object.keys(dataOverlayEntries)[0])\r\n  // eslint-disable-next-line\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if(cache[selectedDataKey]) {\r\n      let selectedData = cache[selectedDataKey];\r\n      let xKeys = Object.keys(selectedData)\r\n      let yKeys = Object.keys(selectedData[xKeys[0]])\r\n      setSelectedX(xKeys[xKeys.length - 1]);\r\n      setSelectedY(yKeys[0]);\r\n    }\r\n  }, [cache, selectedDataKey])\r\n\r\n  let databasis = null;\r\n  let databasisMax = null;\r\n  let databasisMin = null;\r\n  let databasisMaxYears = null;\r\n\r\n  if(\r\n    cache[selectedDataKey] &&\r\n    cache[selectedDataKey][selectedX] &&\r\n    cache[selectedDataKey][selectedX][selectedY]\r\n  ) {\r\n    const isPercent = selectedY && (selectedY.indexOf(\"Anteil\") >=0 || selectedY.indexOf(\"anteil\") >=0 || selectedY.indexOf(\"Quote\") >= 0 || selectedY.indexOf(\"quote\") >= 0)\r\n    const aggFun = (values) => showTotal ? ((isPercent && values.length > 0) ? (Math.round(values.reduce((sum, elem) => sum + elem.value, 0) / values.length)) : values.reduce((sum, elem) => sum + elem.value, 0)) : 0\r\n    databasis = cache[selectedDataKey][selectedX][selectedY];\r\n    const selectedYValues = Object.keys(cache[selectedDataKey]).map(key =>\r\n      cache[selectedDataKey][key][selectedY] ?\r\n        (\r\n          showTotal ?\r\n            aggFun(cache[selectedDataKey][key][selectedY])\r\n            : cache[selectedDataKey][key][selectedY].map(d => d.value)\r\n        ) : 0\r\n    ).flat(1)\r\n    databasisMax = Math.max(...selectedYValues)\r\n    databasisMaxYears = []\r\n    Object.keys(cache[selectedDataKey]).forEach(key => {\r\n      if(\r\n        cache[selectedDataKey][key][selectedY] &&\r\n        cache[selectedDataKey][key][selectedY].map(d => d.value).includes(databasisMax)\r\n      ) {\r\n        databasisMaxYears.push(key)\r\n      }\r\n    })\r\n\r\n    databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\r\n  }\r\n\r\n  // const dataOverlayScale = chroma.scale('Spectral');\r\n  const dataOverlayScale = dataOverlayEntries[selectedDataKey] ? dataOverlayEntries[selectedDataKey].scale : null;\r\n\r\n  return (\r\n    <>\r\n    <MapContainer\r\n      style={{ height: '100vh' }}\r\n      center={center}\r\n      zoom={12}\r\n      tap={false}\r\n    >\r\n      {!showMarker.bike_lanes && <TileLayer\r\n        attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n        url=\"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}@2x.png?key=LtQePu1HTsFQi3NRcYZ5\"\r\n      />}\r\n      {showMarker.bike_lanes && <TileLayer\r\n        attribution='<a href=\"https://www.cyclosm.org\" target=\"_blank\">&copy; cyclosm</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n        url=\"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png\"\r\n      />}\r\n      <Hooks />\r\n      <Markers showMarker={showMarker} cache={cache} />\r\n      {\r\n        showMarker.data_overlay &&\r\n        !loadings.districts &&\r\n        <DataOverlay\r\n          dataOverlayEntries={dataOverlayEntries}\r\n          scale={dataOverlayScale}\r\n          cache={cache}\r\n          selectedDataKey={selectedDataKey}\r\n          showTotal={showTotal}\r\n          selectedX={selectedX}\r\n          selectedY={selectedY}\r\n        />\r\n      }\r\n      {\r\n        showMarker.own_location &&\r\n        <OwnLocationMarker />\r\n      }\r\n    </MapContainer>\r\n      {\r\n        !showOffcanvas &&\r\n        <div style={{\r\n          position: 'absolute',\r\n          zIndex: 999,\r\n          right: 20,\r\n          bottom: 20,\r\n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px'\r\n        }}>\r\n          <Button\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              width: 60,\r\n              height: 60,\r\n            }}\r\n            size=\"lg\"\r\n            onClick={() => setShowOffcanvas(true)}\r\n          ><FontAwesomeIcon size=\"lg\" icon={faCog} /></Button>\r\n        </div>\r\n      }\r\n      {\r\n        showMarker.data_overlay &&\r\n        <div style={{ position: 'absolute', fontFamily: 'monospace', zIndex: 999, left: 10, bottom: 10, padding: 10, borderRadius: 10, background: 'white', cursor: 'pointer' }} onClick={() => setShowOffcanvas(true)}>\r\n          <OverlayTrigger\r\n            placement=\"top\"\r\n            overlay={\r\n              <Tooltip id={`tooltip-colorscale`}>\r\n                Der maximal Wert wurde in {databasisMaxYears && databasisMaxYears.join(', ')} erreicht.\r\n              </Tooltip>\r\n            }\r\n          >\r\n              <div>{selectedY}&nbsp;({selectedX})</div>\r\n          </OverlayTrigger>\r\n              <ColorScale scale={dataOverlayScale} data={databasis} min={databasisMin} max={databasisMax} />\r\n        </div>\r\n      }\r\n      <Offcanvas\r\n        show={showOffcanvas}\r\n        onHide={() => setShowOffcanvas(false)}\r\n        backdrop={false}\r\n        placement={isMobile ? 'bottom' : 'end'}\r\n        style={{\r\n          height: isMobile ? '40vh' : '100vh',\r\n          border: 0,\r\n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px -10px 20px 0px',\r\n        }}\r\n      >\r\n      <Offcanvas.Header closeButton>\r\n        <Offcanvas.Title>Einstellungen</Offcanvas.Title>\r\n      </Offcanvas.Header>\r\n        <Offcanvas.Body\r\n          style={{\r\n            padding: 0,\r\n          }}\r\n        >\r\n          {loadings.districts && <div style={{ textAlign: 'center', padding: 10 }}><Spinner animation=\"border\" size=\"sm\" /></div>}\r\n          {!loadings.districts &&\r\n            <>\r\n              <SwitchLine\r\n                loading={loadings.data_overlay}\r\n                checked={showMarker.data_overlay}\r\n                onChange={e => toggleDataOverlay()}\r\n                icon={<FontAwesomeIcon icon={faChartPie} />}\r\n                label=\"Details zu Ortsteilen anzeigen\"\r\n              />\r\n              {\r\n                showMarker.data_overlay &&\r\n                <>\r\n                  <DataOverlayOptions\r\n                    dataEntries={dataOverlayEntries}\r\n                    cache={cache}\r\n                    selectedDataKey={selectedDataKey}\r\n                    showTotal={showTotal}\r\n                    selectedX={selectedX}\r\n                    selectedY={selectedY}\r\n                    setSelectedX={setSelectedX}\r\n                    setSelectedY={setSelectedY}\r\n                    setShowTotal={setShowTotal}\r\n                    selectDataOverlayCategory={selectDataOverlayCategory}\r\n                    loadings={loadings}\r\n                  />\r\n                </>\r\n              }\r\n              <MarkerToggles\r\n                showMarker={showMarker}\r\n                toggleMarkers={toggleMarkers}\r\n                setShowMarker={setShowMarker}\r\n                loadings={loadings}\r\n              />\r\n              <div style={{ height: 1, background: '#eee', marginTop: 10, marginBottom: 10 }} />\r\n            </>\r\n          }\r\n\r\n          <OffcanvasFooter />\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Map;","import './App.css';\r\nimport Map from './components/Map';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Map />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}