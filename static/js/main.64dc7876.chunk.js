(this["webpackJsonpleipzig-maps"]=this["webpackJsonpleipzig-maps"]||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),i=n.n(a),s=(n(84),n(85),n(18)),o=n(8),l=n(2),j=n(6),d=n(9),u=n(10),b=n(17),O=n.n(b),h=n(108),p=n(107),f=n(32),g=n(51),x=n(44),m=n(33),y=n(105),k=n(106),v=n(109),w=n(1),z=function(e){for(var t=e.min,n=e.max,c=e.scale.domain([0,100]),r=[],a=0;a<100;a++)r.push(a);return Object(w.jsxs)("div",{style:{overflow:"auto",fontFamily:"monospace"},children:[r.map((function(e){return Object(w.jsx)("span",{style:{display:"inline-block",backgroundColor:c(e).hex(),width:"1%",height:10}},e)})),Object(w.jsx)("div",{style:{float:"left"},children:t}),Object(w.jsx)("div",{style:{float:"right"},children:n})]})},_=n(101),S=n(102),C={stroke:!1,fillOpacity:.6},M=function(e){var t=e.geoframe,n=e.pathOptions,r=e.tooltip,a=Object(c.useState)(!1),i=Object(j.a)(a,2),s=i[0],o=i[1];return Object(w.jsx)(_.a,{pathOptions:Object(l.a)(Object(l.a)(Object(l.a)({},C),n),{},{fillOpacity:s?.6:C.fillOpacity}),positions:t.geometry.coordinates[0],eventHandlers:{mouseover:function(){return o(!0)},mouseout:function(){return o(!1)}},children:Object(w.jsx)(S.a,{direction:"top",sticky:!0,children:r})})},T=function(e){var t=e.cache,n=e.dataOverlayEntries,c=e.selectedDataKey,r=e.selectedX,a=e.selectedY,i=e.scale;if(!t[c]||!t[c][r]||!t[c][r][a])return null;var o=t[c][r][a],l=Object.keys(t[c]).map((function(e){return t[c][e][a]?t[c][e][a].map((function(e){return e.value})):0})).flat(1),j=Math.max.apply(Math,Object(s.a)(l)),d=n[c].min||0,u=i.domain([d,j]);return Object(w.jsx)(w.Fragment,{children:t.districts.features.map((function(e){var t=o.find((function(t){return t.district===e.properties.title}));return Object(w.jsx)(M,{geoframe:e,tooltip:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[Object(w.jsxs)("div",{style:{fontSize:"1.4rem"},children:[t.value," ",n[c].unit]}),t.district,Object(w.jsx)("br",{}),Object(w.jsx)("div",{style:{fontSize:"0.8rem"},children:n[c].title}),n[c].title!==a.replace(" insgesamt","")&&Object(w.jsx)("div",{style:{fontSize:"0.8rem"},children:a})]}),pathOptions:{fillColor:u(t.value).hex()}},e.properties.key)}))})},I=n(23),B=n(71);var F=function(e,t){var n=Object(c.useRef)(),r=Object(c.useRef)(e);return Object(c.useEffect)((function(){r.current=e}),[e]),Object(c.useEffect)((function(){if("number"===typeof t)return n.current=window.setInterval((function(){return r.current()}),t),function(){return window.clearInterval(n.current)}}),[t]),n},D=function(e){var t=e.dataEntries,n=e.cache,r=e.selectedDataKey,a=e.selectedX,i=e.selectedY,s=e.setSelectedX,o=e.setSelectedY,l=e.selectDataOverlayCategory,b=e.loadings,O=n[r],h=O?Object.keys(O):[],p=O?Object.keys(O[h[0]]):[],g=Object(c.useState)(!1),m=Object(j.a)(g,2),y=m[0],k=m[1];return F((function(){return function(){if(O){var e=h.indexOf(a),t=e+1>Object.keys(O).length-1?0:e+1;console.log(e,t),s(h[t])}}()}),y?500:null),Object(w.jsxs)("div",{style:{paddingBottom:20,paddingLeft:20,paddingRight:20,paddingTop:5},children:[Object(w.jsxs)("p",{children:[Object(w.jsx)("strong",{children:"Details f\xfcr Ortsteile"})," zeigen mit farblichen Fl\xe4chen bspw. an, wie viele Arbeitslose im Jahr 2016 in jeweiligem Ortsteil gelebt haben.",Object(w.jsx)("br",{}),"W\xe4hle eine ",Object(w.jsx)("strong",{children:"Kategorie"}),", ",Object(w.jsx)("strong",{children:"Unterkategorie"})," und ",Object(w.jsx)("strong",{children:"Jahr"}),"."]}),Object(w.jsxs)(I.a,{defaultActiveKey:"0",children:[Object(w.jsxs)(I.a.Item,{eventKey:"0",children:[Object(w.jsxs)(I.a.Header,{children:["Kategorie\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[t[r].title," (",Object.keys(t).length,")"]})]}),Object(w.jsx)(I.a.Body,{children:Object.keys(t).map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:Object(w.jsxs)("span",{style:{textTransform:"capitalize"},children:[t[e].title,"\xa0",b[e]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"})]}),checked:r===e,onChange:function(t){return l(e)}},e)}))})]}),p.length>1&&Object(w.jsxs)(I.a.Item,{eventKey:"1",children:[Object(w.jsxs)(I.a.Header,{children:["Unterkategorie:\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[i," (",p.length,")"]})]}),Object(w.jsxs)(I.a.Body,{children:[b[r]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"}),!!O&&O[a]&&Object.keys(O[a]).sort().map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:e,checked:i===e,onChange:function(t){return o(e)}},e)}))]})]}),Object(w.jsxs)(I.a.Item,{eventKey:"2",children:[Object(w.jsxs)(I.a.Header,{children:["Jahr:\xa0",Object(w.jsxs)("span",{style:{opacity:.5},children:[a," (",h.length,")"]})]}),Object(w.jsxs)(I.a.Body,{children:[Object(w.jsx)(f.a,{style:{marginBottom:10,float:"right"},size:"sm",onClick:function(){return k((function(e){return!e}))},children:y?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{icon:d.k})," Pause"]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{icon:d.l})," Abspielen"]})}),b[r]&&Object(w.jsx)(x.a,{animation:"border",size:"sm"}),!!O&&Object.keys(O).reverse().map((function(e){return Object(w.jsx)(B.a.Check,{type:"radio",id:e,label:e,checked:a===e,onChange:function(t){return s(e)}},e)}))]})]})]})]})},L=n(58),E=n(12),P=n.n(E),R=n(103),H=n(104),K=function(e){var t=e.data,n=e.renderTooltip,c=e.renderIcon,r=e.renderLink,a=void 0===r?null:r;return t.map((function(e,t){var r=P.a.divIcon({iconSize:[20,20],html:Object(L.renderToString)(c(e))}),i=Object(w.jsx)(R.a,{children:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[n(e),"(",Object(w.jsx)("a",{href:a(e),children:"Mehr Details"}),")"]})}),s=Object(w.jsx)(S.a,{sticky:!0,children:Object(w.jsxs)("div",{style:{fontSize:"1rem"},children:[n(e),Object(w.jsx)("br",{})]})});return Object(w.jsxs)(H.a,{position:[e.lat,e.lon],icon:r,eventHandlers:{click:function(){return null===a||m.isMobile?{}:window.open(a(e))}},children:[m.isMobile&&i,!m.isMobile&&s]},t)}))},Y=(n(92),n(78)),A=function(e){var t=e.checked,n=e.onChange,r=e.loading,a=e.icon,i=e.label,s=Object(w.jsx)(x.a,{animation:"border",size:"sm"}),o=Object(c.useState)(!1),l=Object(j.a)(o,2),d=l[0],u=l[1];return Object(w.jsxs)("div",{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTouchStart:function(){return u(!0)},onTouchEnd:function(){return u(!1)},onTouchCancel:function(){return u(!1)},onClick:function(){return n()},style:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"1.1rem",padding:"10px 20px",backgroundColor:d?"#eee":"#fff"},children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{style:{marginRight:7},children:r?s:a}),Object(w.jsx)("span",{children:i})]}),Object(w.jsx)("div",{children:Object(w.jsx)(Y.a,{disabled:!0===r,checked:t})})]})},q="#1a73e8",X="#1a73e8",G="#1a73e8",J="#1a73e8",U="#7986cb",W="#78909c",Z="#f06292",N="#f06292",Q="#5565dd",V="#34a853",$="#f29900",ee="#f29900",te=function(e){var t=e.showMarker,n=e.toggleMarkers,c=e.setShowMarker,r=e.loadings;return Object(w.jsxs)("div",{children:["geolocation"in navigator&&Object(w.jsx)(A,{loading:r.own_location,checked:t.own_location,onChange:function(e){return c(Object(l.a)(Object(l.a)({},t),{},{own_location:!t.own_location}))},icon:Object(w.jsx)(u.a,{color:J,icon:d.j}),label:"Eigenen Standort anzeigen"}),Object(w.jsx)(A,{loading:r.bus_stops,checked:t.bus_stops,onChange:function(e){return n("bus_stops")},icon:Object(w.jsx)(u.a,{color:q,icon:d.c}),label:"Bushaltestellen anzeigen"}),Object(w.jsx)(A,{loading:r.train_stops,checked:t.train_stops,onChange:function(e){return n("train_stops")},icon:Object(w.jsx)(u.a,{color:X,icon:d.n}),label:"Zugbahnh\xf6fe anzeigen"}),Object(w.jsx)(A,{loading:r.tram_stops,checked:t.tram_stops,onChange:function(e){return n("tram_stops")},icon:Object(w.jsx)(u.a,{color:G,icon:d.q}),label:"Tramstops anzeigen"}),Object(w.jsx)(A,{loading:r.swimming_pools,checked:t.swimming_pools,onChange:function(e){return n("swimming_pools")},icon:Object(w.jsx)(u.a,{color:U,icon:d.p}),label:"Swimming Pools anzeigen"}),Object(w.jsx)(A,{loading:r.fitness_stuidos,checked:t.fitness_stuidos,onChange:function(e){return n("fitness_stuidos")},icon:Object(w.jsx)(u.a,{color:W,icon:d.h}),label:"Fitness Studios anzeigen"}),Object(w.jsx)(A,{loading:r.daycares,checked:t.daycares,onChange:function(e){return n("daycares")},icon:Object(w.jsx)(u.a,{color:Z,icon:d.a}),label:"Kitas anzeigen"}),Object(w.jsx)(A,{loading:r.playgrounds,checked:t.playgrounds,onChange:function(e){return n("playgrounds")},icon:Object(w.jsx)(u.a,{color:N,icon:d.e}),label:"Spielpl\xe4tze anzeigen"}),Object(w.jsx)(A,{loading:r.bike_lanes,checked:t.bike_lanes,onChange:function(e){return c(Object(l.a)(Object(l.a)({},t),{},{bike_lanes:!t.bike_lanes}))},icon:Object(w.jsx)(u.a,{color:Q,icon:d.b}),label:"Radwege anzeigen"}),Object(w.jsx)(A,{loading:r.parks,checked:t.parks,onChange:function(e){return n("parks")},icon:Object(w.jsx)(u.a,{color:V,icon:d.r}),label:"Parks anzeigen"}),Object(w.jsx)(A,{loading:r.supermarkets,checked:t.supermarkets,onChange:function(e){return n("supermarkets")},icon:Object(w.jsx)(u.a,{color:$,icon:d.m}),label:"Superm\xe4rkte anzeigen"}),Object(w.jsx)(A,{loading:r.markets,checked:t.markets,onChange:function(e){return n("markets")},icon:Object(w.jsx)(u.a,{color:ee,icon:d.i}),label:"Wochenm\xe4rkte anzeigen"})]})},ne=function(e){var t=e.showMarker,n=e.cache;return Object(w.jsxs)(w.Fragment,{children:[t.bus_stops&&Object(w.jsx)(K,{data:n.bus_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name," (",e.tags.network,")",Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:q,icon:d.c})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.swimming_pools&&Object(w.jsx)(K,{data:n.swimming_pools,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.title,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return"indoor_pool"===e.type?Object(w.jsx)(u.a,{color:U,icon:d.p}):Object(w.jsx)(u.a,{color:U,icon:d.o})},renderLink:function(e){return e.link}}),t.tram_stops&&Object(w.jsx)(K,{data:n.tram_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name," (",e.tags.network,")",Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:G,icon:d.q})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.train_stops&&Object(w.jsx)(K,{data:n.train_stops.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),e.tags.operator,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:X,icon:d.n})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.fitness_stuidos&&Object(w.jsx)(K,{data:n.fitness_stuidos.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),"(click for details)"]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:W,icon:d.h})},renderLink:function(e){return"https://www.openstreetmap.org/".concat(e.type,"/").concat(e.id)}}),t.daycares&&Object(w.jsx)(K,{data:n.daycares,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.name,Object(w.jsx)("br",{}),e.address?e.address.full:null]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:Z,icon:d.a})},renderLink:function(e){return e.address?"https://www.openstreetmap.org/search?query=".concat(e.address.full):"#"}}),t.markets&&Object(w.jsx)(K,{data:n.markets,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.title,Object(w.jsx)("br",{}),e.opening_hours,Object(w.jsx)("br",{}),e.location]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:ee,icon:d.i})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.location)}}),t.playgrounds&&Object(w.jsx)(K,{data:n.playgrounds,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.name,Object(w.jsx)("br",{}),e.location]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:N,icon:d.e})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat,",").concat(e.lon)}}),t.supermarkets&&Object(w.jsx)(K,{data:n.supermarkets.elements,renderTooltip:function(e){return Object(w.jsxs)("div",{children:[e.tags.name,Object(w.jsx)("br",{}),e.tags.organic?"organic: ".concat(e.tags.organic):""]})},renderIcon:function(e){return Object(w.jsx)(u.a,{color:e.tags.organic?"green":$,icon:d.m})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat,",").concat(e.lon)}}),t.parks&&Object(w.jsx)(K,{data:n.parks.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.name})),renderTooltip:function(e){return e.tags.name},renderIcon:function(e){return Object(w.jsx)(u.a,{color:V,icon:d.r})},renderLink:function(e){return"https://www.openstreetmap.org/search?query=".concat(e.lat,",").concat(e.lon)}})]})},ce=n(52),re=function(e){return Object(w.jsxs)(ce.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(w.jsx)(ce.a.Header,{closeButton:!0,children:Object(w.jsx)(ce.a.Title,{id:"contained-modal-title-vcenter",children:"Copyright & Daten"})}),Object(w.jsxs)(ce.a.Body,{children:[Object(w.jsxs)("ul",{children:[Object(w.jsxs)("li",{children:[Object(w.jsx)("a",{href:"https://www.openstreetmap.org/copyright/en",children:"\xa9 OpenStreetMap contributors"}),Object(w.jsx)("br",{})]}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://www.maptiler.com/copyright/",children:"\xa9 MapTiler"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{href:"https://www.cyclosm.org",children:"\xa9 cyclosm"})}),Object(w.jsxs)("li",{children:[Object(w.jsx)("a",{href:"https://github.com/mrzmyr/leipzig-maps",children:"GitHub Source Code"}),Object(w.jsx)("br",{})]})]}),Object(w.jsx)("p",{children:"Ein Teil der Beschriftungen kommen aus anderen Quellen und sind daher nicht gegendert."})]})]}))},ae=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(w.jsxs)("div",{style:{fontSize:12},children:[Object(w.jsx)(f.a,{style:{textDecoration:"none"},variant:"link",size:"sm",onClick:function(){return r(!0)},children:"Copyright & Daten"}),Object(w.jsx)("br",{}),Object(w.jsx)(f.a,{style:{textDecoration:"none"},variant:"link",size:"sm",onClick:function(){return window.open("https://twitter.com/mrzmyr")},children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udcbb mrzmyr"}),Object(w.jsx)("br",{}),Object(w.jsx)(re,{show:n,onHide:function(){return r(!1)}})]})},ie=(n(93),n(77)),se=function(){var e=P.a.divIcon({className:"ownLocationMarker",iconSize:[20,20],html:Object(L.renderToString)(Object(w.jsxs)("div",{children:[Object(w.jsx)(u.a,{icon:d.f,size:"lg",style:{animation:"pulseDot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) -.4s infinite",color:J,border:"2px solid #FFF",borderRadius:"50%",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px",position:"relative",zIndex:20}}),Object(w.jsx)(u.a,{icon:d.f,size:"3x",style:{animation:"pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite",color:J,position:"absolute",top:-9,left:-8,zIndex:10}})]}))}),t=Object(ie.usePosition)(!0,{enableHighAccuracy:!0}),n=t.latitude,c=t.longitude,r=t.error;return console.log(r),r?Object(w.jsx)("div",{style:{color:"#fff",padding:5,backgroundColor:"red",position:"absolute",top:0,right:0,zIndex:9999},children:r}):Object(w.jsx)(H.a,{position:[n||0,c||0],icon:e})},oe={aerzte:{title:"\xc4rzte",scale:O.a.scale("PuRd"),unit:"\xc4rzte"},"arbeitslose-insgesamt":{title:"Arbeitslose",scale:O.a.scale("OrRd"),unit:"Arbeitslose"},bedarfsgemeinschaften:{title:"Bedarfsgemeinschaften",scale:O.a.scale("YlGnBu"),unit:""},"einwohner-insgesamt":{title:"Population",scale:O.a.scale("BuPu"),unit:"Menschen"},einwohnerdichte:{title:"Bev\xf6lkerungsdichte",scale:O.a.scale("BuPu"),unit:"Menschen"},gesamtflaeche:{title:"Gesamtfl\xe4che",scale:O.a.scale("Greys"),unit:"km\xb2"},haushaltseinkommen:{title:"Einkommen",scale:O.a.scale("PuBu"),min:1e3,unit:"\u20ac"},jugendquote:{title:"Alter",scale:O.a.scale("YlOrBr"),unit:""},"kraftfahrzeuge-insgesamt":{title:"Kraftfahrzeuge",scale:O.a.scale("Purples"),unit:"Fahrzeuge"},migranten:{title:"Zugewanderte",scale:O.a.scale("GnBu"),unit:"Zugewanderte"},"straftaten-insgesamt":{title:"Straftaten",scale:O.a.scale("YlOrRd"),unit:"Straftaten"},"unternehmen-insgesamt":{title:"Unternehmen",scale:O.a.scale("Blues"),unit:"Unternehmen"},wohnungen:{title:"Wohnungen",scale:O.a.scale("RdPu")}},le=[51.340199,12.430103];function je(){return Object(y.a)("click",(function(e){console.log(e.latlng)})),null}var de=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),i=Object(j.a)(a,2),b=i[0],O=i[1],y=Object(c.useState)({districts:!0}),_=Object(j.a)(y,2),S=_[0],C=_[1],M=Object(c.useState)({bike_lanes:!1,bus_stops:!1,train_stops:!1,tram_stops:!1,swimming_pools:!1,playgrounds:!1,daycares:!1,data_overlay:!1,markets:!1}),I=Object(j.a)(M,2),B=I[0],F=I[1],L=Object(c.useState)(null),E=Object(j.a)(L,2),P=E[0],R=E[1],H=Object(c.useState)(null),K=Object(j.a)(H,2),Y=K[0],q=K[1],X=Object(c.useState)(null),G=Object(j.a)(X,2),J=G[0],U=G[1],W=function(e){R(e),n[e]?F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))):(C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!0))),fetch("".concat("/public","/data/leipzig-").concat(e,".json")).then((function(e){return e.json()})).then((function(t){C((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e,!1))})),r((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},e,t.data))})),F((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e,!t[e]))}))})))};Object(c.useEffect)((function(){fetch("".concat("/public","/data/leipzig-districts.json")).then((function(e){return e.json()})).then((function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{districts:e})})),C((function(e){return Object(l.a)(Object(l.a)({},e),{},{districts:!1})}))})),W(Object.keys(oe)[0])}),[]),Object(c.useEffect)((function(){if(n[P]){var e=n[P],t=Object.keys(e),c=Object.keys(e[t[0]]);q(t[t.length-1]),U(c[0])}}),[n,P]);var Z=null,N=null,Q=null,V=null;if(n[P]&&n[P][Y]&&n[P][Y][J]){Z=n[P][Y][J];var $=Object.keys(n[P]).map((function(e){return n[P][e][J]?n[P][e][J].map((function(e){return e.value})):0})).flat(1);N=Math.max.apply(Math,Object(s.a)($)),V=[],Object.keys(n[P]).forEach((function(e){n[P][e][J]&&n[P][e][J].map((function(e){return e.value})).includes(N)&&V.push(e)})),Q=oe[P].min||0}var ee=oe[P]?oe[P].scale:null;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(k.a,{style:{height:"100vh"},center:le,zoom:12,tap:!1,children:[!B.bike_lanes&&Object(w.jsx)(v.a,{attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">\xa9 MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">\xa9 OpenStreetMap contributors</a>',url:"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}@2x.png?key=LtQePu1HTsFQi3NRcYZ5"}),B.bike_lanes&&Object(w.jsx)(v.a,{attribution:'<a href="https://www.cyclosm.org" target="_blank">\xa9 cyclosm</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">\xa9 OpenStreetMap contributors</a>',url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png"}),Object(w.jsx)(je,{}),Object(w.jsx)(ne,{showMarker:B,cache:n}),B.data_overlay&&!S.districts&&Object(w.jsx)(T,{dataOverlayEntries:oe,scale:ee,cache:n,selectedDataKey:P,selectedX:Y,selectedY:J}),B.own_location&&Object(w.jsx)(se,{})]}),!b&&Object(w.jsx)("div",{style:{position:"absolute",zIndex:999,right:20,bottom:20,boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:Object(w.jsx)(f.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",width:60,height:60},size:"lg",onClick:function(){return O(!0)},children:Object(w.jsx)(u.a,{size:"lg",icon:d.g})})}),B.data_overlay&&Object(w.jsxs)("div",{style:{position:"absolute",fontFamily:"monospace",zIndex:999,left:10,bottom:10,padding:10,borderRadius:10,background:"white",cursor:"pointer"},onClick:function(){return O(!0)},children:[Object(w.jsx)(h.a,{placement:"top",overlay:Object(w.jsxs)(p.a,{id:"tooltip-colorscale",children:["Der maximal Wert wurde in ",V&&V.join(", ")," erreicht."]}),children:Object(w.jsxs)("div",{children:[J,"\xa0(",Y,")"]})}),Object(w.jsx)(z,{scale:ee,data:Z,min:Q,max:N})]}),Object(w.jsxs)(g.a,{show:b,onHide:function(){return O(!1)},backdrop:!1,placement:m.isMobile?"bottom":"end",style:{height:m.isMobile?"40vh":"100vh",border:0,boxShadow:"rgba(0, 0, 0, 0.1) 0px -10px 20px 0px"},children:[Object(w.jsx)(g.a.Header,{closeButton:!0,children:Object(w.jsx)(g.a.Title,{children:"Einstellungen"})}),Object(w.jsxs)(g.a.Body,{style:{padding:0},children:[S.districts&&Object(w.jsx)("div",{style:{textAlign:"center",padding:10},children:Object(w.jsx)(x.a,{animation:"border",size:"sm"})}),!S.districts&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(A,{loading:S.data_overlay,checked:B.data_overlay,onChange:function(e){F(Object(l.a)(Object(l.a)({},B),{},{data_overlay:!B.data_overlay}))},icon:Object(w.jsx)(u.a,{icon:d.d}),label:"Details zu Ortsteilen anzeigen"}),B.data_overlay&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(D,{dataEntries:oe,cache:n,selectedDataKey:P,selectedX:Y,selectedY:J,setSelectedX:q,setSelectedY:U,selectDataOverlayCategory:W,loadings:S})}),Object(w.jsx)(te,{showMarker:B,toggleMarkers:function(e){n[e]?F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))):(C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!0))),fetch("".concat("/public","/data/leipzig-").concat(e.replace("_","-"),".json")).then((function(e){return e.json()})).then((function(t){r(Object(l.a)(Object(l.a)({},n),{},Object(o.a)({},e,t))),F(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},e,!B[e]))),C(Object(l.a)(Object(l.a)({},S),{},Object(o.a)({},e,!1)))})))},setShowMarker:F,loadings:S}),Object(w.jsx)("div",{style:{height:1,background:"#eee",marginTop:10,marginBottom:10}})]}),Object(w.jsx)(ae,{})]})]})]})};var ue=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(de,{})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};n(95);i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(ue,{})}),document.getElementById("root")),be()}},[[96,1,2]]]);
//# sourceMappingURL=main.64dc7876.chunk.js.map