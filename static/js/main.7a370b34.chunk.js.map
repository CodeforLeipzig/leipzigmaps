{"version":3,"sources":["components/ColorScale.js","components/MapPolygon.js","components/DataOverlay.js","hooks/useInterval.js","components/DataOverlayOptions.js","components/MapMarkers.js","components/SwitchLine.js","components/MarkerToggles.js","components/Markers.js","components/CreditsModal.js","components/OffcanvasFooter.js","components/OwnLocationMarker.js","components/Map.js","App.js","reportWebVitals.js","index.js"],"names":["ColorScale","min","max","databasisColorScale","scale","domain","_100","i","push","style","overflow","fontFamily","map","display","backgroundColor","hex","width","height","float","defaultPathOptions","stroke","fillOpacity","Polygon","geoframe","pathOptions","tooltip","useState","isHighlighted","setIsHighlighted","positions","geometry","coordinates","eventHandlers","mouseover","mouseout","direction","sticky","DataOverlay","cache","dataOverlayEntries","selectedDataKey","selectedX","selectedY","databasis","selectedYValues","Object","keys","key","d","value","flat","databasisMax","Math","databasisMin","districts","features","f","item","find","district","properties","title","MapPolygon","fontSize","unit","replace","fillColor","useInterval","callback","delay","intervalRef","useRef","callbackRef","useEffect","current","window","setInterval","clearInterval","DataOverlayOptions","dataEntries","setSelectedX","setSelectedY","selectDataOverlayCategory","loadings","selectedData","xKeys","yKeys","playingYears","setPlayingYears","index","indexOf","indexNext","length","console","log","goToNextYear","paddingBottom","paddingLeft","paddingRight","paddingTop","Accordion","defaultActiveKey","Item","eventKey","Header","opacity","Body","Form","Check","type","id","label","textTransform","Spinner","animation","size","checked","onChange","e","sort","y","Button","marginBottom","onClick","icon","faPauseCircle","faPlayCircle","reverse","x","MapMarkers","data","renderTooltip","renderIcon","renderLink","myIcon","L","divIcon","iconSize","html","renderToString","popup","Popup","href","Marker","position","lat","lon","click","isMobile","open","SwitchLine","loading","spinner","isActive","setIsActive","onMouseEnter","onMouseLeave","onTouchStart","onTouchEnd","onTouchCancel","flexDirection","justifyContent","padding","marginRight","disabled","colors","MarkerToggles","showMarker","toggleMarkers","setShowMarker","navigator","own_location","color","faLocationArrow","bus_stops","faBus","train_stops","faSubway","tram_stops","faTrain","swimming_pools","faSwimmingPool","fitness_stuidos","faDumbbell","daycares","faBaby","playgrounds","faChild","bike_lanes","faBicycle","parks","faTree","supermarkets","faShoppingBasket","markets","faHome","Markers","elements","tags","name","network","faSwimmer","link","operator","address","full","opening_hours","location","organic","filter","p","CreditsModal","props","Modal","centered","closeButton","Title","OffcanvasFooter","showCreditsModal","setShowCreditsModal","textDecoration","variant","show","onHide","OwnLocationMarker","className","faCircle","border","borderRadius","boxShadow","zIndex","top","left","usePosition","enableHighAccuracy","latitude","longitude","error","right","chroma","center","Hooks","useMapEvent","latlng","Map","setCache","showOffcanvas","setShowOffcanvas","setLoadings","data_overlay","setSelectedDataKey","fetch","process","then","response","json","res","databasisMaxYears","forEach","includes","dataOverlayScale","MapContainer","zoom","tap","TileLayer","attribution","url","bottom","alignItems","faCog","background","cursor","OverlayTrigger","placement","overlay","Tooltip","join","Offcanvas","backdrop","textAlign","faChartPie","marginTop","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7a370b34.chunk.js","sourcesContent":["const ColorScale = ({\n  min,\n  max,\n  scale,\n}) => {\n  const databasisColorScale = scale.domain([0, 100]);\n  \n  const _100 = [];\n  for (let i = 0; i < 100; i++) _100.push(i)\n  \n  return (\n    <div style={{ overflow: 'auto', fontFamily: 'monospace' }}>\n      {_100.map(i => \n        <span key={i} style={{ \n          display: 'inline-block', \n          backgroundColor: databasisColorScale(i).hex(), \n          width: '1%', height: 10 \n        }}>\n      </span>)}\n      <div style={{ float: 'left' }}>{min}</div>\n      <div style={{ float: 'right' }}>{max}</div>\n    </div>\n  )\n}\n\nexport default ColorScale;\n","import { useState } from 'react';\nimport { Polygon as P, Tooltip } from 'react-leaflet'\n\nconst defaultPathOptions = {\n  stroke: false,\n  fillOpacity: 0.6,\n}\n\nconst Polygon = ({ geoframe, pathOptions, tooltip }) => {\n  const [isHighlighted, setIsHighlighted] = useState(false);\n  \n  return (\n    <P\n      pathOptions={{\n        ...defaultPathOptions,\n        ...pathOptions,\n        fillOpacity: isHighlighted ? 0.6 : defaultPathOptions.fillOpacity\n      }}\n      positions={geoframe.geometry.coordinates[0]}\n      eventHandlers={{\n        mouseover: () => setIsHighlighted(true),\n        mouseout: () => setIsHighlighted(false)\n      }}\n    >\n      <Tooltip direction=\"top\" sticky>\n        {tooltip}\n      </Tooltip>\n    </P>\n  )\n}\n\nexport default Polygon;\n","import MapPolygon from './MapPolygon'\n\nconst DataOverlay = ({\n  cache,\n  dataOverlayEntries,\n  selectedDataKey,\n  selectedX,\n  selectedY,\n  scale,\n}) => {\n  if(\n    !cache[selectedDataKey] ||\n    !cache[selectedDataKey][selectedX] ||\n    !cache[selectedDataKey][selectedX][selectedY]\n  ) return null;\n\n  const databasis = cache[selectedDataKey][selectedX][selectedY];\n  const selectedYValues = Object.keys(cache[selectedDataKey]).map(key => \n    cache[selectedDataKey][key][selectedY] ? cache[selectedDataKey][key][selectedY].map(d => d.value) : 0\n  ).flat(1)\n  const databasisMax = Math.max(...selectedYValues)\n  const databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\n  const databasisColorScale = scale.domain([databasisMin, databasisMax]);\n  \n  return (\n    <>\n      {cache.districts.features.map(f => {\n          let item = databasis.find(d => d.district === f.properties.title)\n          return (\n            <MapPolygon\n              key={f.properties.key} \n              geoframe={f} \n              tooltip={\n                <div style={{ fontSize: '1rem' }}>\n                  <div style={{ fontSize: '1.4rem' }}>{item.value} {dataOverlayEntries[selectedDataKey].unit}</div>\n                  {item.district}<br />\n                  <div style={{ fontSize: '0.8rem' }}>{dataOverlayEntries[selectedDataKey].title}</div>\n                  {\n                    dataOverlayEntries[selectedDataKey].title !== selectedY.replace(' insgesamt', '') &&\n                    <div style={{ fontSize: '0.8rem' }}>{selectedY}</div>\n                  }\n                </div>\n              }\n              pathOptions={{\n                fillColor: databasisColorScale(item.value).hex()\n              }}\n            />\n          )\n      })}\n    </>\n  )\n}\n\nexport default DataOverlay;","import { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const intervalRef = useRef();\n  const callbackRef = useRef(callback);\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(() => callbackRef.current(), delay);\n      return () => window.clearInterval(intervalRef.current);\n    }\n  }, [delay]);\n  \n  return intervalRef;\n}\n\nexport default useInterval;\n","import { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlayCircle, faPauseCircle } from '@fortawesome/free-solid-svg-icons';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Spinner from 'react-bootstrap/Spinner';\n\nimport useInterval from '../hooks/useInterval'\n\nconst DataOverlayOptions = ({ \n  dataEntries, \n  cache, \n  selectedDataKey, \n  selectedX,\n  selectedY,\n  setSelectedX, \n  setSelectedY,\n  selectDataOverlayCategory,\n  loadings,\n}) => {\n\n  const selectedData = cache[selectedDataKey];\n  const xKeys = selectedData ? Object.keys(selectedData) : []\n  const yKeys = selectedData ? Object.keys(selectedData[xKeys[0]]) : []\n\n  const [playingYears, setPlayingYears] = useState(false);\n\n  const goToNextYear = () => {\n    if(!selectedData) return;\n    \n    const index = xKeys.indexOf(selectedX);\n    const indexNext = index + 1 > Object.keys(selectedData).length - 1 ? 0 : index + 1;\n    console.log(index, indexNext)\n    setSelectedX(xKeys[indexNext])\n  }\n  \n  useInterval(() => goToNextYear(), playingYears ? 500 : null);\n  \n  return (\n    <div style={{ paddingBottom: 20, paddingLeft: 20, paddingRight: 20, paddingTop: 5, }}>\n      <p><strong>Details f√ºr Ortsteile</strong> zeigen mit farblichen Fl√§chen bspw. an, wie viele Arbeitslose im Jahr 2016 in jeweiligem Ortsteil gelebt haben. \n      <br/>\n      W√§hle eine <strong>Kategorie</strong>, <strong>Unterkategorie</strong> und <strong>Jahr</strong>.</p>\n      <Accordion defaultActiveKey=\"0\">\n        <Accordion.Item eventKey=\"0\">\n          <Accordion.Header>Kategorie&nbsp;<span style={{ opacity: 0.5 }}>{dataEntries[selectedDataKey].title} ({Object.keys(dataEntries).length})</span></Accordion.Header>\n          <Accordion.Body>\n          {Object.keys(dataEntries).map((key) => \n              <Form.Check \n                key={key}\n                type=\"radio\"\n                id={key}\n                label={\n                    <span style={{ textTransform: 'capitalize' }}>\n                      {dataEntries[key].title}&nbsp;\n                      {loadings[key] && <Spinner animation=\"border\" size=\"sm\" />}\n                    </span>\n                }\n                checked={selectedDataKey === key}\n                onChange={e => selectDataOverlayCategory(key)}\n              />\n          )}\n          </Accordion.Body>\n        </Accordion.Item>\n        {yKeys.length > 1 && <Accordion.Item eventKey=\"1\">\n          <Accordion.Header>Unterkategorie:&nbsp;<span style={{ opacity: 0.5 }}>{selectedY} ({yKeys.length})</span></Accordion.Header>\n          <Accordion.Body>\n          {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\n          {!!selectedData && selectedData[selectedX] && Object.keys(selectedData[selectedX]).sort().map(y => \n            <Form.Check \n              key={y}\n              type=\"radio\"\n              id={y}\n              label={y}\n              checked={selectedY === y}\n              onChange={e => setSelectedY(y)}\n            />\n          )}\n          </Accordion.Body>\n        </Accordion.Item>}\n        <Accordion.Item eventKey=\"2\">\n          <Accordion.Header>Jahr:&nbsp;<span style={{ opacity: 0.5 }}>{selectedX} ({xKeys.length})</span></Accordion.Header>\n          <Accordion.Body>\n          <Button style={{ marginBottom: 10, float: 'right' }} size=\"sm\" onClick={() => setPlayingYears(playingYears => !playingYears)}>\n            {playingYears ? <><FontAwesomeIcon icon={faPauseCircle} /> Pause</> : <><FontAwesomeIcon icon={faPlayCircle} /> Abspielen</>}\n          </Button>\n          {loadings[selectedDataKey] && <Spinner animation=\"border\" size=\"sm\" />}\n          {!!selectedData && Object.keys(selectedData).reverse().map(x => \n            <Form.Check \n              key={x}\n              type=\"radio\"\n              id={x}\n              label={x}\n              checked={selectedX === x}\n              onChange={e => setSelectedX(x)}\n            />\n          )}\n          </Accordion.Body>\n        </Accordion.Item>\n      </Accordion>\n    </div>\n  )\n}\n\nexport default DataOverlayOptions;","import { isMobile } from \"react-device-detect\";\nimport { renderToString } from 'react-dom/server'\n\nimport L from 'leaflet'\nimport { Tooltip, Marker, Popup } from 'react-leaflet'\n\nconst MapMarkers = ({ data, renderTooltip, renderIcon, renderLink = null }) => {\n  return data.map((item, index) => {\n\n    var myIcon = L.divIcon({\n      iconSize: [20, 20],\n      html: renderToString(renderIcon(item))\n    });\n    \n    const popup = (\n      <Popup>\n        <div style={{ fontSize: '1rem' }}>\n          {renderTooltip(item)}\n          (<a href={renderLink(item)}>Mehr Details</a>)\n        </div>\n      </Popup>\n    )\n\n    const tooltip = (\n      <Tooltip sticky>\n        <div style={{ fontSize: '1rem' }}>\n          {renderTooltip(item)}<br />\n        </div>\n      </Tooltip>\n    )\n    \n    return (\n      <Marker \n        key={index}\n        position={[item.lat, item.lon]}\n        icon={myIcon}\n        eventHandlers={{\n          click: () => renderLink !== null && !isMobile ? window.open(renderLink(item)) : {}\n        }}\n      >\n        {isMobile && popup}\n        {!isMobile && tooltip}\n      </Marker>\n    )\n  })\n}\n\nexport default MapMarkers;","import Switch from \"rc-switch\";\nimport { useState } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst SwitchLine = ({\n  checked,\n  onChange,\n  loading,\n  icon,\n  label\n}) => {\n  const spinner = <Spinner animation=\"border\" size=\"sm\" />;\n  const [isActive, setIsActive] = useState(false);\n  \n  return (\n    <div\n      onMouseEnter={() => setIsActive(true)}\n      onMouseLeave={() => setIsActive(false)}\n      onTouchStart={() => setIsActive(true)}\n      onTouchEnd={() => setIsActive(false)}\n      onTouchCancel={() => setIsActive(false)}\n      onClick={() => onChange()}\n      style={{ \n        display: 'flex', \n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        fontSize: '1.1rem',\n        padding: '10px 20px',\n        backgroundColor: isActive ? '#eee' : '#fff'\n      }}\n    >\n      <div>\n        <span style={{ marginRight: 7 }}>{loading ? spinner : icon}</span>\n        <span>{label}</span>\n      </div>\n      <div>\n        <Switch\n          disabled={loading === true}\n          checked={checked}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default SwitchLine;\n","import { faBaby, faBicycle, faBus, faChild, faDumbbell, faHome, faLocationArrow, faShoppingBasket, faSubway, faSwimmingPool, faTrain, faTree } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport 'rc-switch/assets/index.css';\nimport SwitchLine from './SwitchLine';\n\nexport const colors = {\n  bus_stops: '#1a73e8',\n  train_stops: '#1a73e8',\n  tram_stops: '#1a73e8',\n  own_location: '#1a73e8',\n  swimming_pools: '#7986cb',\n  fitness_stuidos: '#78909c',\n  daycares: '#f06292',\n  playgrounds: '#f06292',\n  bike_lanes: '#5565dd',\n  parks: '#34a853',\n  supermarkets: '#f29900',\n  markets: '#f29900',\n}\n\nconst MarkerToggles = ({\n  showMarker,\n  toggleMarkers,\n  setShowMarker,\n  loadings,\n}) => {  \n  return (\n    <div>\n      { \n        \"geolocation\" in navigator && \n        <SwitchLine\n          loading={loadings.own_location}\n          checked={showMarker.own_location}\n          onChange={e => setShowMarker({ ...showMarker, own_location: !showMarker.own_location })}\n          icon={<FontAwesomeIcon color={colors.own_location} icon={faLocationArrow} />}\n          label=\"Eigenen Standort anzeigen\"\n        />\n      }\n      <SwitchLine\n        loading={loadings.bus_stops}\n        checked={showMarker.bus_stops}\n        onChange={e => toggleMarkers('bus_stops')}\n        icon={<FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\n        label=\"Bushaltestellen anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.train_stops}\n        checked={showMarker.train_stops}\n        onChange={e => toggleMarkers('train_stops')}\n        icon={<FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\n        label=\"Zugbahnh√∂fe anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.tram_stops}\n        checked={showMarker.tram_stops}\n        onChange={e => toggleMarkers('tram_stops')}\n        icon={<FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\n        label=\"Tramstops anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.swimming_pools}\n        checked={showMarker.swimming_pools}\n        onChange={e => toggleMarkers('swimming_pools')}\n        icon={<FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} />}\n        label=\"Swimming Pools anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.fitness_stuidos}\n        checked={showMarker.fitness_stuidos}\n        onChange={e => toggleMarkers('fitness_stuidos')}\n        icon={<FontAwesomeIcon color={colors.fitness_stuidos} icon={faDumbbell} />}\n        label=\"Fitness Studios anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.daycares}\n        checked={showMarker.daycares}\n        onChange={e => toggleMarkers('daycares')}\n        icon={<FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\n        label=\"Kitas anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.playgrounds}\n        checked={showMarker.playgrounds}\n        onChange={e => toggleMarkers('playgrounds')}\n        icon={<FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\n        label=\"Spielpl√§tze anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.bike_lanes}\n        checked={showMarker.bike_lanes}\n        onChange={e => setShowMarker({ ...showMarker, bike_lanes: !showMarker.bike_lanes })}\n        icon={<FontAwesomeIcon color={colors.bike_lanes} icon={faBicycle} />}\n        label=\"Radwege anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.parks}\n        checked={showMarker.parks}\n        onChange={e => toggleMarkers('parks')}\n        icon={<FontAwesomeIcon color={colors.parks} icon={faTree} />}\n        label=\"Parks anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.supermarkets}\n        checked={showMarker.supermarkets}\n        onChange={e => toggleMarkers('supermarkets')}\n        icon={<FontAwesomeIcon color={colors.supermarkets} icon={faShoppingBasket} />}\n        label=\"Superm√§rkte anzeigen\"\n      />\n      <SwitchLine\n        loading={loadings.markets}\n        checked={showMarker.markets}\n        onChange={e => toggleMarkers('markets')}\n        icon={<FontAwesomeIcon color={colors.markets} icon={faHome} />}\n        label=\"Wochenm√§rkte anzeigen\"\n      />\n    </div>\n  )\n}\n\nexport default MarkerToggles;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBus, faSwimmingPool, faSwimmer, faChild, faBaby, faHome, faSubway, faTrain, faDumbbell, faShoppingBasket, faTree } from '@fortawesome/free-solid-svg-icons'\n\nimport MapMarkers from './MapMarkers'\n\nimport { colors } from './MarkerToggles'\n\nconst Markers = ({ showMarker, cache }) => <>\n  {showMarker.bus_stops && \n    <MapMarkers\n      data={cache.bus_stops.elements}\n      renderTooltip={item =>\n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\n      }\n      renderIcon={item => <FontAwesomeIcon color={colors.bus_stops} icon={faBus} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n\n  {showMarker.swimming_pools && \n    <MapMarkers\n      data={cache.swimming_pools}\n      renderTooltip={item => <div>{item.title}<br />(click for details)</div>}\n      renderIcon={item => \n          item.type === 'indoor_pool' ? \n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmingPool} /> : \n          <FontAwesomeIcon color={colors.swimming_pools} icon={faSwimmer} />\n      }\n      renderLink={item => item.link}\n    />\n  }\n  {showMarker.tram_stops && \n    <MapMarkers\n      data={cache.tram_stops.elements}\n      renderTooltip={item => \n        <div>{item.tags.name} ({item.tags.network})<br />(click for details)</div>\n      }\n      renderIcon={item => <FontAwesomeIcon color={colors.tram_stops} icon={faTrain} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.train_stops && \n    <MapMarkers\n      data={cache.train_stops.elements}\n      renderTooltip={item => {\n        return (\n          <div>\n            {item.tags.name}<br />\n            {item.tags.operator}<br />\n            (click for details)\n          </div>\n        )\n      }}\n      renderIcon={item => <FontAwesomeIcon color={colors.train_stops} icon={faSubway} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.fitness_stuidos && \n    <MapMarkers\n      data={cache.fitness_stuidos.elements}\n      renderTooltip={item => <div>{item.tags.name}<br />(click for details)</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.fitness_stuidos} icon={faDumbbell} />}\n      renderLink={item => `https://www.openstreetmap.org/${item.type}/${item.id}`}\n    />\n  }\n  {showMarker.daycares && \n    <MapMarkers\n      data={cache.daycares}\n      renderTooltip={item => <div>{item.name}<br />{item.address ? item.address.full : null}</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.daycares} icon={faBaby} />}\n      renderLink={item => item.address ? `https://www.openstreetmap.org/search?query=${item.address.full}` : '#'}\n    />\n  }\n  {showMarker.markets && \n    <MapMarkers\n      data={cache.markets}\n      renderTooltip={item => <div>{item.title}<br />{item.opening_hours}<br />{item.location}</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.markets} icon={faHome} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.location}`}\n    />\n  }\n  {showMarker.playgrounds && \n    <MapMarkers\n      data={cache.playgrounds}\n      renderTooltip={item => <div>{item.name}<br />{item.location}</div>}\n      renderIcon={item => <FontAwesomeIcon color={colors.playgrounds} icon={faChild} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\n    />\n  }\n  {showMarker.supermarkets && \n    <MapMarkers\n      data={cache.supermarkets.elements}\n      renderTooltip={item => <div>{item.tags.name}<br />{item.tags.organic ? `organic: ${item.tags.organic}`: ''}</div>}\n      renderIcon={item => <FontAwesomeIcon color={item.tags.organic ? 'green' : colors.supermarkets} icon={faShoppingBasket} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\n    />\n  }\n  {showMarker.parks && \n    <MapMarkers\n      data={cache.parks.filter(p => p.tags?.name)}\n      renderTooltip={item => item.tags.name}\n      renderIcon={item => <FontAwesomeIcon color={colors.parks} icon={faTree} />}\n      renderLink={item => `https://www.openstreetmap.org/search?query=${item.lat},${item.lon}`}\n    />\n  }\n</>\n\nexport default Markers;\n","import Modal from 'react-bootstrap/Modal';\n\nconst CreditsModal = (props) => {\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          Copyright &amp; Daten\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <ul>\n          <li><a href=\"https://www.openstreetmap.org/copyright/en\">¬© OpenStreetMap contributors</a><br /></li>\n          <li><a href=\"https://www.maptiler.com/copyright/\">&copy; MapTiler</a></li>\n          <li><a href=\"https://www.cyclosm.org\">&copy; cyclosm</a></li>\n          <li><a href=\"https://github.com/mrzmyr/leipzig-maps\">GitHub Source Code</a><br /></li>\n        </ul>\n        <p>Ein Teil der Beschriftungen kommen aus anderen Quellen und sind daher nicht gegendert.</p>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CreditsModal;","import { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport CreditsModal from \"./CreditsModal\";\n\nconst OffcanvasFooter = () => {\n  const [showCreditsModal, setShowCreditsModal] = useState(false);\n  \n  return (\n    <div style={{ fontSize: 12 }}>\n    <Button \n      style={{ textDecoration: 'none' }}\n      variant=\"link\" \n      size=\"sm\" \n      onClick={() => setShowCreditsModal(true)}\n    >Copyright &amp; Daten</Button>\n    <br />\n    <Button \n      style={{ textDecoration: 'none' }}\n      variant=\"link\" \n      size=\"sm\" \n      onClick={() => window.open('https://twitter.com/mrzmyr')}\n    >üßëüèª‚Äçüíª mrzmyr</Button>\n    <br />\n    <CreditsModal \n      show={showCreditsModal}\n      onHide={() => setShowCreditsModal(false)}\n    />\n  </div>\n  )\n}\n\nexport default OffcanvasFooter;\n","import { renderToString } from 'react-dom/server'\n\nimport './OwnLocationMarker.css'\n\nimport L from 'leaflet'\nimport { Marker } from 'react-leaflet';\nimport { usePosition } from 'use-position';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle } from '@fortawesome/free-solid-svg-icons';\nimport { colors } from './MarkerToggles';\n\nconst OwnLocationMarker = () => {\n  var myIcon = L.divIcon({\n    className: 'ownLocationMarker',\n    iconSize: [20, 20],\n    html: renderToString(\n      <div>\n        <FontAwesomeIcon\n          icon={faCircle}\n          size='lg'\n          style={{ \n            animation: 'pulseDot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) -.4s infinite',\n            color: colors.own_location,\n            border: '2px solid #FFF',\n            borderRadius: '50%',\n            boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px',\n            position: 'relative',\n            zIndex: 20,\n          }}\n        />\n        <FontAwesomeIcon\n          icon={faCircle}\n          size='3x'\n          style={{\n            animation: 'pulseRing 3s cubic-bezier(0.215, 0.61, 0.355, 1) infinite',\n            color: colors.own_location,\n            position: 'absolute',\n            top: -9,\n            left: -8,\n            zIndex: 10,\n          }}\n        />\n      </div>\n    )\n  });\n\n  const watch = true;\n  const {\n    latitude,\n    longitude,\n    error,\n  } = usePosition(watch, {enableHighAccuracy: true});\n\n  console.log(error)\n  \n  if(error) return <div style={{ color: '#fff', padding: 5, backgroundColor: 'red', position: 'absolute', top: 0, right: 0, zIndex: 9999 }}>{error}</div>\n  \n  return (\n    <Marker \n      position={[latitude || 0, longitude || 0]}\n      icon={myIcon}\n    >\n    </Marker>\n  )\n}\n\nexport default OwnLocationMarker;\n","import { faChartPie, faCog } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport chroma from 'chroma-js';\nimport React, { useEffect, useState } from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport Offcanvas from 'react-bootstrap/Offcanvas';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { isMobile } from \"react-device-detect\";\nimport { MapContainer, TileLayer, useMapEvent } from 'react-leaflet';\nimport ColorScale from './ColorScale';\nimport DataOverlay from './DataOverlay';\nimport DataOverlayOptions from './DataOverlayOptions';\nimport Markers from './Markers';\nimport MarkerToggles from './MarkerToggles';\nimport OffcanvasFooter from './OffcanvasFooter';\nimport OwnLocationMarker from './OwnLocationMarker';\nimport SwitchLine from \"./SwitchLine\";\n\nconst dataOverlayEntries = {\n  'aerzte': { \n    title: '√Ñrzte', \n    scale: chroma.scale('PuRd'),\n    unit: '√Ñrzte', \n  },\n  'arbeitslose-insgesamt': { \n    title: 'Arbeitslose', \n    scale: chroma.scale('OrRd'),\n    unit: 'Arbeitslose', \n  },\n  'bedarfsgemeinschaften': { \n    title: 'Bedarfsgemeinschaften',\n    scale: chroma.scale('YlGnBu'),\n    unit: '',\n  },\n  'einwohner-insgesamt': { \n    title: 'Population',\n    scale: chroma.scale('BuPu'),\n    unit: 'Menschen',\n  },\n  'einwohnerdichte': { \n    title: 'Bev√∂lkerungsdichte', \n    scale: chroma.scale('BuPu'),\n    unit: 'Menschen',\n  },\n  'gesamtflaeche': { \n    title: 'Gesamtfl√§che', \n    scale: chroma.scale('Greys'),\n    unit: 'km¬≤'\n  },\n  'haushaltseinkommen': { \n    title: 'Einkommen', \n    scale: chroma.scale('PuBu'),\n    min: 1000,\n    unit: '‚Ç¨'\n  },\n  'jugendquote': {\n    title: 'Alter', \n    scale: chroma.scale('YlOrBr'),\n    unit: '',\n  },\n  'kraftfahrzeuge-insgesamt': { \n    title: 'Kraftfahrzeuge', \n    scale: chroma.scale('Purples'),\n    unit: 'Fahrzeuge'\n  },\n  'migranten': { \n    title: 'Zugewanderte', \n    scale: chroma.scale('GnBu'),\n    unit: 'Zugewanderte',\n  },\n  'straftaten-insgesamt': { \n    title: 'Straftaten', \n    scale: chroma.scale('YlOrRd'),\n    unit: 'Straftaten',\n  },\n  'unternehmen-insgesamt': { \n    title: 'Unternehmen', \n    scale: chroma.scale('Blues'),\n    unit: 'Unternehmen',\n  },\n  'wohnungen': { \n    title: 'Wohnungen',\n    scale: chroma.scale('RdPu')\n  },\n}\n\nconst center = [51.340199, 12.430103];\n\nfunction Hooks() {  \n  useMapEvent('click', (e) => {\n    console.log(e.latlng)\n  })\n  return null\n}\n\nconst Map = () => {\n\n  const [cache, setCache] = useState({})\n\n  const [showOffcanvas, setShowOffcanvas] = useState(true);\n\n  const [loadings, setLoadings] = useState({\n    districts: true\n  });\n\n  const [showMarker, setShowMarker] = useState({\n    bike_lanes: false,\n    bus_stops: false,\n    train_stops: false,\n    tram_stops: false,\n    swimming_pools: false,\n    playgrounds: false,\n    daycares: false,\n    data_overlay: false,\n    markets: false,\n  });\n\n  const [selectedDataKey, setSelectedDataKey] = useState(null);\n  const [selectedX, setSelectedX] = useState(null);\n  const [selectedY, setSelectedY] = useState(null);\n\n  const toggleDataOverlay = () => {\n    setShowMarker({ ...showMarker, data_overlay: !showMarker.data_overlay })\n  }\n  \n  const selectDataOverlayCategory = (key) => {\n    setSelectedDataKey(key)\n    \n    if(!cache[key]) {\n      setLoadings({ ...loadings, [key]: true })\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key}.json`)\n        .then(response => response.json())\n        .then(response => {\n          setLoadings(loadings => ({ ...loadings, [key]: false }))\n          setCache(cache => ({ ...cache, [key]: response.data }))\n          setShowMarker(showMarker => ({ ...showMarker, [key]: !showMarker[key] }))\n        });\n    } else {\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n    }    \n  }\n  \n  const toggleMarkers = (key) => {\n    if(!cache[key]) {\n      setLoadings({ ...loadings, [key]: true })\n      fetch(`${process.env.PUBLIC_URL}/data/leipzig-${key.replace('_', '-')}.json`)\n        .then(response => response.json())\n        .then(data => {\n          setCache({ ...cache, [key]: data })\n          setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n          setLoadings({ ...loadings, [key]: false })\n        });\n    } else {\n      setShowMarker({ ...showMarker, [key]: !showMarker[key] })\n    }\n  }\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/data/leipzig-districts.json`)\n    .then(res => res.json())\n    .then(data => {\n      setCache(cache => ({ ...cache, districts: data }))\n      setLoadings(loadings => ({ ...loadings, districts: false }))\n    })\n    selectDataOverlayCategory(Object.keys(dataOverlayEntries)[0])\n  // eslint-disable-next-line\n  }, [])\n\n  useEffect(() => {\n    if(cache[selectedDataKey]) {\n      let selectedData = cache[selectedDataKey];\n      let xKeys = Object.keys(selectedData)\n      let yKeys = Object.keys(selectedData[xKeys[0]])\n      setSelectedX(xKeys[xKeys.length - 1]);\n      setSelectedY(yKeys[0]);\n    }\n  }, [cache, selectedDataKey])\n\n  let databasis = null;\n  let databasisMax = null;\n  let databasisMin = null;\n  let databasisMaxYears = null;\n\n  if(\n    cache[selectedDataKey] &&\n    cache[selectedDataKey][selectedX] &&\n    cache[selectedDataKey][selectedX][selectedY]\n  ) {\n    databasis = cache[selectedDataKey][selectedX][selectedY];\n    const selectedYValues = Object.keys(cache[selectedDataKey]).map(key => \n      cache[selectedDataKey][key][selectedY] ? cache[selectedDataKey][key][selectedY].map(d => d.value) : 0\n    ).flat(1)\n    databasisMax = Math.max(...selectedYValues)\n    databasisMaxYears = []\n    Object.keys(cache[selectedDataKey]).forEach(key => {\n      if(\n        cache[selectedDataKey][key][selectedY] && \n        cache[selectedDataKey][key][selectedY].map(d => d.value).includes(databasisMax)\n      ) {\n        databasisMaxYears.push(key)\n      }\n    })\n\n    databasisMin = dataOverlayEntries[selectedDataKey].min || 0;\n  }\n\n  // const dataOverlayScale = chroma.scale('Spectral');\n  const dataOverlayScale = dataOverlayEntries[selectedDataKey] ? dataOverlayEntries[selectedDataKey].scale : null;\n  \n  return (\n    <>\n    <MapContainer \n      style={{ height: '100vh' }}\n      center={center} \n      zoom={12}\n      tap={false}\n    >\n      {!showMarker.bike_lanes && <TileLayer\n        attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n        url=\"https://api.maptiler.com/maps/streets/256/{z}/{x}/{y}@2x.png?key=LtQePu1HTsFQi3NRcYZ5\"\n      />}\n      {showMarker.bike_lanes && <TileLayer\n        attribution='<a href=\"https://www.cyclosm.org\" target=\"_blank\">&copy; cyclosm</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\n        url=\"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png\"\n      />}\n      <Hooks />\n      <Markers showMarker={showMarker} cache={cache} />\n      {\n        showMarker.data_overlay && \n        !loadings.districts && \n        <DataOverlay \n          dataOverlayEntries={dataOverlayEntries}\n          scale={dataOverlayScale}\n          cache={cache}\n          selectedDataKey={selectedDataKey}\n          selectedX={selectedX}\n          selectedY={selectedY}\n        />\n      }\n      {\n        showMarker.own_location && \n        <OwnLocationMarker />\n      }\n    </MapContainer>\n      {\n        !showOffcanvas && \n        <div style={{ \n          position: 'absolute', \n          zIndex: 999, \n          right: 20, \n          bottom: 20, \n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px 4px 12px'\n        }}>\n          <Button \n            style={{ \n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              width: 60,\n              height: 60,\n            }}\n            size=\"lg\" \n            onClick={() => setShowOffcanvas(true)}\n          ><FontAwesomeIcon size=\"lg\" icon={faCog} /></Button>\n        </div>\n      }\n      {\n        showMarker.data_overlay && \n        <div style={{ position: 'absolute', fontFamily: 'monospace', zIndex: 999, left: 10, bottom: 10, padding: 10, borderRadius: 10, background: 'white', cursor: 'pointer' }} onClick={() => setShowOffcanvas(true)}>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-colorscale`}>\n                Der maximal Wert wurde in {databasisMaxYears && databasisMaxYears.join(', ')} erreicht.\n              </Tooltip>\n            }\n          >\n              <div>{selectedY}&nbsp;({selectedX})</div>\n          </OverlayTrigger>\n              <ColorScale scale={dataOverlayScale} data={databasis} min={databasisMin} max={databasisMax} />\n        </div>\n      }\n      <Offcanvas \n        show={showOffcanvas} \n        onHide={() => setShowOffcanvas(false)} \n        backdrop={false} \n        placement={isMobile ? 'bottom' : 'end'}\n        style={{\n          height: isMobile ? '40vh' : '100vh',\n          border: 0,\n          boxShadow: 'rgba(0, 0, 0, 0.1) 0px -10px 20px 0px',\n        }}\n      >\n      <Offcanvas.Header closeButton>\n        <Offcanvas.Title>Einstellungen</Offcanvas.Title>\n      </Offcanvas.Header>\n        <Offcanvas.Body\n          style={{\n            padding: 0,\n          }}\n        >\n          {loadings.districts && <div style={{ textAlign: 'center', padding: 10 }}><Spinner animation=\"border\" size=\"sm\" /></div>}\n          {!loadings.districts &&\n          <>\n            <SwitchLine\n              loading={loadings.data_overlay}\n              checked={showMarker.data_overlay}\n              onChange={e => toggleDataOverlay()}\n              icon={<FontAwesomeIcon icon={faChartPie} />}\n              label=\"Details zu Ortsteilen anzeigen\"\n            />\n          {\n            showMarker.data_overlay &&  \n            <>\n              <DataOverlayOptions\n                dataEntries={dataOverlayEntries}\n                cache={cache}\n                selectedDataKey={selectedDataKey}\n                selectedX={selectedX}\n                selectedY={selectedY}\n                setSelectedX={setSelectedX}\n                setSelectedY={setSelectedY}\n                selectDataOverlayCategory={selectDataOverlayCategory}\n                loadings={loadings}\n              />\n            </>\n          }\n          <MarkerToggles \n            showMarker={showMarker}\n            toggleMarkers={toggleMarkers}\n            setShowMarker={setShowMarker}\n            loadings={loadings}\n          />\n          <div style={{ height: 1, background: '#eee', marginTop: 10, marginBottom: 10 }} />\n          </>\n          }\n          \n          <OffcanvasFooter />\n        </Offcanvas.Body>\n      </Offcanvas>\n    </>\n  )\n}\n\nexport default Map;","import './App.css';\nimport Map from './components/Map';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Map />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}